<h1>Edit <%= @song.name %></h1>

<form action="/songs/<%= @song.slug %>" method="POST">
    <input type="hidden" id="hidden" name="_method" value="PATCH">
    <label for="song_title">Song Title: </label>
    <input type="text" id="song_title" name="song[name]" value="<%= @song.name %>">

    <h2>Artist:</h2>
    <p>Select an existing artist or create a new one below.</p>
    <% @artists.each do |artist| %>
        <input type="checkbox" id="<%= artist.name %>" name="song[artist_id]" value="<%= artist.id %>" <%= "checked" if @song.artist == artist %>><%= artist.name%><br>
    <% end %>
    <input type="text">
    <h3>New artist:</h3>
    <input type="text" id="Artist Name" name="artist[name]"><br>
    
    <h2>Genre:</h2>
    <p>Select an existing genre.</p>
    <% @genres.each do |genre| %>
        <input type="checkbox" id="<%= genre.name %>" name="genres[]" value="<%= genre.id %>" <%= "checked" if @song.genres.include?(genre) %>><%= genre.name %><br>
    <% end %>

    <input type="submit" value="Save">
</form>